<div class="container mx-auto flex flex-col lg:flex-row my-6">
  <aside class="w-full lg:w-1/4 bg-white p-6 shadow mb-6 lg:mb-0">
    <span class="text-3xl font-bold"
      ><a href="/main/<%= user.id %>">&laquo;</a></span
    >
    <div class="flex items-center justify-center mb-6">
      <img
        alt="Store Logo"
        class="h-16 w-16 rounded-full"
        height="100"
        src="<%= product.thumbnail %>"
        width="100"
      />
    </div>
    <div class="ml-4 text-center">
      <h2 class="text-xl font-bold mb-2"><%= product.title %></h2>
      <span class="mr-2"> ⭐ <%= product.rating %> </span>
      <div class="flex items-center justify-center text-gray-600 mt-2">
        <span><%= priceToIdr(product.price * 16000) %> </span>
      </div>
    </div>
    <div class="border-t border-gray-200 w-full mt-6 mb-2"></div>
    <p class="text-gray-600 mb-4 text-[13px]"><%= product.description %></p>
    <div class="border-t border-gray-200 w-full mt-2 mb-2"></div>

    <div class="mt-4 flex justify-center items-center space-x-4">
      <button
        id="decrease"
        class="bg-gray-200 text-gray-700 p-2 rounded-full hover:bg-gray-300"
        onclick="changeQuantity(-1)"
      >
        -
      </button>
      <span id="quantity" class="text-xl font-semibold">1</span>
      <button
        id="increase"
        class="bg-gray-200 text-gray-700 p-2 rounded-full hover:bg-gray-300"
        onclick="changeQuantity(1)"
      >
        +
      </button>
      <input type="hidden" id="product-id" value="<%= product.id %>" />
      <!-- Menyimpan ID produk -->
      <button
        type="button"
        class="w-full py-2 px-4 flex justify-center items-center text-sm font-medium rounded-lg border border-transparent bg-green-600 text-white hover:bg-green-700 focus:outline-none focus:bg-green-700 disabled:opacity-50 disabled:pointer-events-none"
        data-product-id="<%= product.id %>"
        onclick="addToCart(this)"
      >
        <svg
          class="shrink-0"
          xmlns="http://www.w3.org/2000/svg"
          width="15"
          height="15"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="m5 11 4-7"></path>
          <path d="m19 11-4-7"></path>
          <path d="M2 11h20"></path>
          <path
            d="m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8c.9 0 1.8-.7 2-1.6l1.7-7.4"
          ></path>
          <path d="m9 11 1 9"></path>
          <path d="M4.5 15.5h15"></path>
          <path d="m15 11-1 9"></path>
        </svg>
        <span class="ml-2">Add to Cart</span>
      </button>
    </div>
  </aside>

  <main class="w-full lg:w-3/4 p-6">
    <h2 class="text-2xl font-bold text-yellow-500 mb-4">Suggestions Items</h2>
    <section class="mb-6">
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
        <% category.forEach(cat => { %> <% if (product && product.id === cat.id)
        { %> <% return; %> <% } %>
        <div class="group text-center">
          <a
            href="/main/<%= user.id %>/store/<%= cat.id %>/<%= cat.category %>"
          >
            <div
              class="border border-gray-300 rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-300 p-4"
            >
              <div
                class="mx-auto w-32 h-32 bg-gray-200 flex items-center justify-center rounded-lg overflow-hidden relative mb-4"
              >
                <img
                  src="<%= cat.thumbnail %>"
                  alt="product Image"
                  class="object-cover w-full h-full rounded-lg group-hover:scale-105 transition-transform duration-300"
                />
              </div>

              <p class="mt-2 font-semibold text-gray-800"><%= cat.title %></p>
              <p class="mt-2 font-semibold text-gray-800">
                <%= priceToIdr(cat.price * 16000) %>
              </p>

              <p class="text-sm text-gray-600">
                1.7km - <i class="fas fa-star text-yellow-500"></i> 4.94 ⭐
              </p>
            </div>
          </a>

          <div class="mt-4">
            <button
              type="button"
              class="w-full py-2 px-4 flex justify-center items-center text-sm font-medium rounded-lg border border-transparent bg-green-600 text-white hover:bg-green-700 focus:outline-none focus:bg-green-700 disabled:opacity-50 disabled:pointer-events-none"
              data-product-id="<%= cat.id%>"
              onclick="addToCartHome(this)"
            >
              <svg
                class="shrink-0"
                xmlns="http://www.w3.org/2000/svg"
                width="15"
                height="15"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="m5 11 4-7"></path>
                <path d="m19 11-4-7"></path>
                <path d="M2 11h20"></path>
                <path
                  d="m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8c.9 0 1.8-.7 2-1.6l1.7-7.4"
                ></path>
                <path d="m9 11 1 9"></path>
                <path d="M4.5 15.5h15"></path>
                <path d="m15 11-1 9"></path>
              </svg>
              <span class="ml-2">Add to Cart</span>
            </button>
          </div>
        </div>
        <% }) %>
      </div>
    </section>
  </main>
</div>
